<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<link rel="stylesheet" href="25050801/theme/game.css">
<link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500&display=swap" rel="stylesheet">
<title>Escape Road 2</title>
<meta name="description" content=""/>

<style>
.jss1:before {
    top: 0;
    width: 100%;
    filter: blur(16px);
    height: 100%;
    content: "";
    display: block;
    opacity: .5;
    z-index: 0;
    position: absolute;
    background-size: cover;
    background-image: url("25050801/loading.png")
}
</style>

<script>
var buildUrl = "Build";
var versionFolder = "25050801/";
buildUrl = "https://games.azgame.io/game/escape-road-2/" + versionFolder + buildUrl;

var loaderUrl = buildUrl + "/escape-road-2-v25050801.loader.js";
var config = {
    dataUrl: buildUrl + "/escape-road-2-v25050801.data.unityweb",
    frameworkUrl: buildUrl + "/escape-road-2-v25050801.framework.js.unityweb",
    codeUrl: buildUrl + "/escape-road-2-v25050801.wasm.unityweb",
    streamingAssetsUrl: versionFolder + "StreamingAssets",
    companyName: "azgames.io",
    productName: "Escape Road 2",
    productVersion: "25050801",
    pubId: "",
    gameId: "escape-road-2",
    eventLog: true,
    buildAPI: "https://event.azgame.io/apiaz/event",
    enableMoreGame: "yes",
    enablePromotion: true
};

// Optional: disable event log after certain date
let currentDate = new Date();
let endLogDate = new Date("2025-05-27T03:48:05.767Z");
if(currentDate > endLogDate){
    config.eventLog = false;
}
</script>

<script id="gmsoft-jssdk" src="https://games.azgame.io/lib/gmsoftsdk_v5.js"></script>
</head>

<body>
<div id="unity-container" style="display: none;">
    <canvas id="unity-canvas"></canvas>
</div>

<div id="loadingBlock">
    <div class="jss31 jss34 jss1">
        <div style="position: absolute; bottom: 10px; right: 10px; font-size: 18px; color: #ffffff; opacity: 0.5;">25050801</div>
        <div class="spinner"></div>
        <div class="jss31 jss34" style="flex: 3 1 0%;">
            <div class="jss32">
                <div class="jss31 jss34 jss39 jss50 gameloader">
                    <div class="jss32">
                        <div class="gameloader-game-name">Escape Road 2</div>
                    </div>
                    <div class="jss32 gameloader-logo">
                        <img id="game-logo" src="25050801/loading.png">
                    </div>
                    <div class="gameloader-progressbar">
                        <div class="gameloader-progressbar-progress" id="progress_fill" style="width: 0%;"></div>
                    </div>
                    <div class="gameloader-progress-info">Game Loading...</div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
var progressElement = document.getElementById('progress_fill');
var container = document.getElementById("unity-container");
var canvas = document.getElementById("unity-canvas");
var loadingBar = document.getElementById("loadingBlock");
var progress_text = document.querySelector(".gameloader-progress-info");

var script = document.createElement("script");
script.src = loaderUrl;
script.onload = () => {
    createUnityInstance(canvas, config, (progress) => {
        progressElement.style.width = 100 * progress + "%";
        progress_text.innerText = "Downloading file: " + Math.round(progress*100) + "%";
        if(progress >= 99) {
            progress_text.innerText = "Game Loading ...";
        }
    }).then((unityInstance) => {
        window.unityInstance = unityInstance;
        setTimeout(() => {
            loadingBar.style.display = "none";
            container.style.display = "block";
            window.focus();
        }, 2000);
    }).catch((message) => {
        alert(message);
    });
};
document.body.appendChild(script);
</script>

<!-- Firebase (optional) -->
<script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-analytics-compat.js"></script>

<script type="module">
const firebaseConfig = {
 apiKey: "AIzaSyDDb7OnEwOH2yFyzxqMGaxnMb7D6z0zAoE",
 authDomain: "escape-road-2.firebaseapp.com",
 projectId: "escape-road-2",
 storageBucket: "escape-road-2.firebasestorage.app",
 messagingSenderId: "106330943494",
 appId: "1:106330943494:web:1a4c40bdd625509f761387",
 measurementId: "G-WCKVNNMBMJ"
};
const app = firebase.initializeApp(firebaseConfig);
window.dataLayer = window.dataLayer || [];
window.gtag = function(){ window.dataLayer.push(arguments); };
window.gtag("config", firebaseConfig.measurementId, {
  cookie_domain: window.location.hostname,
  cookie_flags: "SameSite=None;Secure",
});
</script>

<script>
function firebaseSetUserProperties(props) {
    firebase.analytics().setUserProperties(props);
}
function firebaseLogEvent(event_name) {
    firebase.analytics().logEvent(event_name);
}
function firebaseLogEventParameter(event_name, event_param) {
    firebase.analytics().logEvent(event_name, event_param);
}
</script>
</body>
</html>
